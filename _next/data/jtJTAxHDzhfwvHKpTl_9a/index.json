{"pageProps":{"readme":"# react-data-table-hydration-bug\nRepro of a [hydration error][react#418] in [react-data-table-component]'s [`Pagination` element][PaginationWrapper] ([github]).\n\n[When the client window width][shouldShow] is < [599px][`SMALL`] or `undefined` (as during [SSR]), \"rows per page\" in the pagination footer [is omitted][shouldShows]. This causes a hydration error whenever the client window width is ≥599, as it is omitted on the server but rendered on the client.\n\n[![][error.gif]][error.gif]\n\n*Hydration error iff `window.innerWidth < 599`*\n\nThis page was built and deployed [via GitHub Actions][GHA]; if you refresh it when `window.innerWidth < 599`, you'll see an error in the dev console:\n\n[![][console-error.png]][console-error.png]\n\n[Page source][index.tsx]:\n\n```tsx\nimport DataTable from \"react-data-table-component\";\nimport ReactMarkdown from \"react-markdown\";\nimport fs from \"fs\";\n\nexport function getStaticProps() {\n  return { props: { readme: fs.readFileSync(\"README.md\").toString() } }\n}\n\nconst Index = ({ readme }: { readme: string }) =>\n    <div className={\"markdown-body\"}>\n      <ReactMarkdown>{readme}</ReactMarkdown>\n      <hr />\n      <DataTable\n          columns={[ { name: \"Str\" }, { name: \"Num\" } ]}\n          data={[ { Str: \"A\", Num: 1 } ]}\n          // This line causes a hydration error in the pagination footer \"nav\" element (iff the\n          // browser window is ≥599px wide); commenting this line fixes it.\n          pagination\n      />\n    </div>\n\nexport default Index\n```\n\nThe error in the dev console links to [react#418]:\n```\nUncaught Error: Minified React error #418; visit https://reactjs.org/docs/error-decoder.html?invariant=418 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\n    at lg (framework-5eea1a21a68cb00b.js:9:46336)\n    at i (framework-5eea1a21a68cb00b.js:9:121103)\n    at oD (framework-5eea1a21a68cb00b.js:9:99070)\n    at framework-5eea1a21a68cb00b.js:9:98937\n    at oO (framework-5eea1a21a68cb00b.js:9:98944)\n    at ox (framework-5eea1a21a68cb00b.js:9:93983)\n    at x (framework-5eea1a21a68cb00b.js:33:1364)\n    at MessagePort.T (framework-5eea1a21a68cb00b.js:33:1894)\n```\n\n## Local repro\nIf you clone [the repo][github], dev mode gives more details about the error (namely that it occurs in a hierarchy like `<nav>…<span>` in react-data-table-component's [pagination footer][PaginationWrapper]):\n\n```bash\ngit clone https://github.com/runsascoded/react-data-table-hydration-bug && cd react-data-table-hydration-bug\npnpm install\nnpm run dev\n```\n\n[localhost:3000] will show something like:\n\n[![][hydration-error.png]][hydration-error.png]\n\nError text:\n\n```\nUnhandled Runtime Error\nError: Hydration failed because the initial UI does not match what was rendered on the server.\nSee more info here: https://nextjs.org/docs/messages/react-hydration-error\n\nExpected server HTML to contain a matching <span> in <nav>.\n\n...\n  <O>\n    <nav>\n    ^^^^^\n      <O>\n        <span>\n        ^^^^^^\n```\n\nCommenting out [the `pagination` property] avoids the issue; [react-data-table-component#649] and [this StackOverflow][SO] describe the same.\n\n\n[react-data-table-component]: https://github.com/jbetancur/react-data-table-component\n[localhost:3000]: http://localhost:3000\n\n[react#418]: https://react.dev/errors/418?invariant=418\n\n[react-data-table-hydration-bug.runsascoded.com]: https://react-data-table-hydration-bug.runsascoded.com\n[GHA]: https://github.com/runsascoded/react-data-table-hydration-bug/actions\n[PaginationWrapper]: https://github.com/jbetancur/react-data-table-component/blob/v7.6.2/src/DataTable/Pagination.tsx#L20-L30\n\n[shouldShow]: https://github.com/jbetancur/react-data-table-component/blob/v7.6.2/src/DataTable/Pagination.tsx#L98\n[`SMALL`]: https://github.com/jbetancur/react-data-table-component/blob/v7.6.2/src/DataTable/media.ts\n[shouldShows]: https://github.com/jbetancur/react-data-table-component/blob/v7.6.2/src/DataTable/Pagination.tsx#L145-L151\n[SSR]: https://nextjs.org/docs/pages/building-your-application/rendering/server-side-rendering\n\n[SO]: https://stackoverflow.com/q/75068071\n[react-data-table-component#649]: https://github.com/jbetancur/react-data-table-component/issues/649\n\n[//]: # (gh repo links)\n[index.tsx]: https://github.com/runsascoded/react-data-table-hydration-bug/blob/main/pages/index.tsx\n[the `pagination` property]: https://github.com/runsascoded/react-data-table-hydration-bug/blob/main/pages/index.tsx#L17\n[github]: https://github.com/runsascoded/react-data-table-hydration-bug\n\n[//]: # (images)\n[error.gif]: error.gif\n[console-error.png]: console-error.png\n[hydration-error.png]: hydration-error.png\n"},"__N_SSG":true}